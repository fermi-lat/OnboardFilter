package OnboardFilter
version v4r8p1
# $Header: /nfs/slac/g/glast/ground/cvs/OnboardFilter/cmt/requirements,v 1.91 2008/04/01 16:20:55 usher Exp $

author Tracy Usher <usher@SLAC.Stanford.edu>

use EbfWriter           *
use obf v* IExternal 

apply_pattern packageShr
apply_pattern package_include
apply_pattern package_header

private
use OnboardFilterTds v*
use CRflux v*
use TkrDigi v*
use AcdDigi v*
use CalDigi v*
use gr_app v*

macro OnboardFilter_cppflags "" \
#   Linux "-DGLEAM -D__i386 -DEFC_FILTER -DMSG_ST -D__unix__  -DWUT_IMPLEMENTATION_PX "\
   Linux "-DGLEAM -D__i386 -DEFC_FILTER "\
   WIN32 " /D GLEAM /D__i386 /DEFC_FILTER  /D_WIN32"

#    -nostdinc -I/usr/local/gcc-3.2.3/lib/gcc-lib/i686-pc-linux-gnu/3.2.3/include -I/usr/include"\

macro OnboardFilter_cflags $(OnboardFilter_cppflags)

macro_append cpplinkflags "" Linux " -ldl -lpthread " WIN32 ""

macro headers "" WIN32 "*.h"

library OnboardFilter \
 -s=../OnboardFilter $(headers)\
 -s=../src *.cxx *.h \
 -s=Dll *.cxx 
 

# use this only for the test. TODO: make it cleaner
apply_pattern package_Cshlibflags

public

#set LD_LIBRARY_PATH ${ONBOARDFILTERROOT}/rh9_gcc32

#apply_pattern package_test
set JOBOPTIONS ${ONBOARDFILTERROOT}/src/test/jobOptions.txt

private
application test_OnboardFilter ${GuiMain} test/*.cxx ${Win32Resource}


